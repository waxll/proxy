<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>一个带两个LED,两个独立式按键的系统</title>
      <link href="/2020/07/25/a2.html"/>
      <url>/2020/07/25/a2.html</url>
      
        <content type="html"><![CDATA[<p> 一个基于STC89C51设计的带两个LED，两个独立按键的系统。</p><a id="more"></a><h2 id="设计要求"><a href="#设计要求" class="headerlink" title="设计要求"></a>设计要求</h2><p>按键K0为LED0的开关，按键K1为系统自锁状态切换按键；LED0为系统控制对象，LED1为自锁状态指示。系统处于非自锁状态时，按下K0，则LED0亮，松手即灭。当系统处于自锁状态时，每按下一次K0，LED0的亮灭状态发生一次改变。</p><h2 id="按键去抖动"><a href="#按键去抖动" class="headerlink" title="按键去抖动"></a>按键去抖动</h2><details yellow><summary> <p>按键消去抖动原理</p> </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag/%E6%8C%89%E9%94%AE%E6%B6%88%E5%8E%BB%E6%8A%96%E5%8A%A8%E5%8E%9F%E7%90%86.png" alt=""></p>              </div>            </details><p>按键去抖动主要有硬件去抖与软件去抖，这里采用低采样率去抖的方式。实际操作是使用定时中断的方式实现，设定定时时长在20ms-200ms即可。实现代码如下：</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">KEY0</span> <span class="meta">EQU</span> <span class="built_in">P1</span>.<span class="number">0</span></span><br><span class="line"><span class="symbol">KEY1</span> <span class="meta">EQU</span> <span class="built_in">P1</span>.<span class="number">1</span></span><br><span class="line"><span class="symbol">LED0</span> <span class="meta">EQU</span> <span class="built_in">P2</span>.<span class="number">0</span></span><br><span class="line"><span class="symbol">LED1</span> <span class="meta">EQU</span> <span class="built_in">P2</span>.<span class="number">1</span></span><br><span class="line"><span class="symbol">ORG</span> <span class="number">0000</span>H</span><br><span class="line"><span class="symbol">AJMP</span> MAIN</span><br><span class="line"><span class="symbol">ORG</span> <span class="number">000</span>BH</span><br><span class="line"><span class="symbol">AJMP</span> TIMERO</span><br><span class="line"><span class="symbol">ORG</span> <span class="number">0030</span>H</span><br><span class="line"><span class="symbol">MAIN</span>:</span><br><span class="line">CLR <span class="built_in">F0</span>         <span class="comment">;自锁标志位</span></span><br><span class="line">    SETB LED0</span><br><span class="line">    SETB LED1</span><br><span class="line"><span class="keyword">MOV </span>TMOD,<span class="number">#01</span>H  <span class="comment">;设置50ms定时</span></span><br><span class="line"><span class="keyword">MOV </span>TH0,<span class="number">#03</span>CH</span><br><span class="line"><span class="keyword">MOV </span>TL0,<span class="number">#0B0</span>H</span><br><span class="line"><span class="keyword">MOV </span>IE,<span class="number">#82</span>H</span><br><span class="line">SETB TR0</span><br><span class="line">SJMP $</span><br><span class="line"><span class="symbol">TIMERO</span>:</span><br><span class="line"><span class="keyword">MOV </span>TH0,<span class="number">#03</span>CH  <span class="comment">;中断复位</span></span><br><span class="line"><span class="keyword">MOV </span>TL0,<span class="number">#0B0</span>H</span><br><span class="line">ACALL KEYPRESS </span><br><span class="line">RETI</span><br><span class="line"><span class="symbol">KEYPRESS</span>:        <span class="comment">;按键子程序</span></span><br><span class="line">   .</span><br><span class="line">   .</span><br><span class="line">   .</span><br><span class="line"> RET</span><br></pre></td></tr></table></figure><h2 id="按键延迟处理"><a href="#按键延迟处理" class="headerlink" title="按键延迟处理"></a>按键延迟处理</h2><p>为防止一次按键按下时被多次读键，因而要加入按键延时。由于在该设计方案中涉及到长按的操作为防止闪烁，因此要在按键按下时加入死循环。实现代码如下：</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">KEYPRESS</span>:</span><br><span class="line">    JNB KEY0,K0</span><br><span class="line">JNB KEY1,K1</span><br><span class="line">AJMP OUT</span><br><span class="line"><span class="symbol">K0</span>: </span><br><span class="line">JNB <span class="built_in">F0</span>,T001</span><br><span class="line">CPL LED0</span><br><span class="line">JNB KEY0,$   <span class="comment">;加入死循环</span></span><br><span class="line">AJMP OUT</span><br><span class="line"><span class="symbol">T001</span>:</span><br><span class="line">CLR LED0</span><br><span class="line">JNB KEY0,$   <span class="comment">;加入死循环</span></span><br><span class="line">SETB LED0</span><br><span class="line">AJMP OUT</span><br><span class="line"><span class="symbol">K1</span>: </span><br><span class="line">CPL <span class="built_in">F0</span></span><br><span class="line">CPL LED1</span><br><span class="line">JNB KEY1,$   <span class="comment">;加入死循环</span></span><br><span class="line"><span class="symbol">OUT</span>:RET</span><br></pre></td></tr></table></figure><h2 id="最终完成代码"><a href="#最终完成代码" class="headerlink" title="最终完成代码"></a>最终完成代码</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">KEY0</span> <span class="meta">EQU</span> <span class="built_in">P1</span>.<span class="number">0</span></span><br><span class="line"><span class="symbol">KEY1</span> <span class="meta">EQU</span> <span class="built_in">P1</span>.<span class="number">1</span></span><br><span class="line"><span class="symbol">LED0</span> <span class="meta">EQU</span> <span class="built_in">P2</span>.<span class="number">0</span></span><br><span class="line"><span class="symbol">LED1</span> <span class="meta">EQU</span> <span class="built_in">P2</span>.<span class="number">1</span></span><br><span class="line"><span class="symbol">ORG</span> <span class="number">0000</span>H</span><br><span class="line"><span class="symbol">AJMP</span> MAIN</span><br><span class="line"><span class="symbol">ORG</span> <span class="number">000</span>BH</span><br><span class="line"><span class="symbol">AJMP</span> TIMERO</span><br><span class="line"><span class="symbol">ORG</span> <span class="number">0030</span>H</span><br><span class="line"><span class="symbol">MAIN</span>:</span><br><span class="line">CLR <span class="built_in">F0</span>         <span class="comment">;自锁标志位</span></span><br><span class="line">    SETB LED0</span><br><span class="line">    SETB LED1</span><br><span class="line"><span class="keyword">MOV </span>TMOD,<span class="number">#01</span>H  <span class="comment">;设置50ms定时</span></span><br><span class="line"><span class="keyword">MOV </span>TH0,<span class="number">#03</span>CH</span><br><span class="line"><span class="keyword">MOV </span>TL0,<span class="number">#0B0</span>H</span><br><span class="line"><span class="keyword">MOV </span>IE,<span class="number">#82</span>H</span><br><span class="line">SETB TR0</span><br><span class="line">SJMP $</span><br><span class="line"><span class="symbol">TIMERO</span>:</span><br><span class="line"><span class="keyword">MOV </span>TH0,<span class="number">#03</span>CH  <span class="comment">;中断复位</span></span><br><span class="line"><span class="keyword">MOV </span>TL0,<span class="number">#0B0</span>H</span><br><span class="line">ACALL KEYPRESS </span><br><span class="line">RETI</span><br><span class="line"><span class="symbol">KEYPRESS</span>:        <span class="comment">;按键子程序</span></span><br><span class="line">    JNB KEY0,K0</span><br><span class="line">JNB KEY1,K1</span><br><span class="line">AJMP OUT</span><br><span class="line"><span class="symbol">K0</span>: </span><br><span class="line">JNB <span class="built_in">F0</span>,T001</span><br><span class="line">CPL LED0</span><br><span class="line">JNB KEY0,$   <span class="comment">;加入死循环</span></span><br><span class="line">AJMP OUT</span><br><span class="line"><span class="symbol">T001</span>:</span><br><span class="line">CLR LED0</span><br><span class="line">JNB KEY0,$   <span class="comment">;加入死循环</span></span><br><span class="line">SETB LED0</span><br><span class="line">AJMP OUT</span><br><span class="line"><span class="symbol">K1</span>: </span><br><span class="line">CPL <span class="built_in">F0</span></span><br><span class="line">CPL LED1</span><br><span class="line">JNB KEY1,$   <span class="comment">;加入死循环</span></span><br><span class="line"><span class="symbol">OUT</span>:RET</span><br></pre></td></tr></table></figure><br/><span class='btn regular'><a class="button" href='/' title='返回'><i class='fa fa-reply-all'></i>返回</a></span>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C51汇编 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发现一个不错的鼠标点击特效</title>
      <link href="/2020/07/25/a1.html"/>
      <url>/2020/07/25/a1.html</url>
      
        <content type="html"><![CDATA[<details yellow><summary> <p>点击查看效果</p> </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag/%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%89%B9%E6%95%88%E6%95%88%E6%9E%9C%E5%9B%BE.png" alt=""></p>              </div>            </details><a id="more"></a><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p>在<span class='p blue'>volantis/layout/layout.ejs</span> 的<span class='p blue'>body</span>下方填入以下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"clickCanvas"</span> <span class="attr">style</span>=<span class="string">" position:fixed;left:0;top:0;"</span>&gt;</span><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">" sketch"</span> <span class="attr">height</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"0"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/waxll/blog-js/dj.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>我使用的主题是<a href="https://volantis.js.org/" target="_blank" rel="noopener">Votlantis</a>其他主题方法位置可能有所不同。</li></ul><br><span class='btn regular'><a class="button" href='/' title='返回'><i class='fa fa-reply-all'></i>返回</a></span>]]></content>
      
      
      <categories>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>鬼火少年</title>
      <link href="/2020/05/04/ghsn.html"/>
      <url>/2020/05/04/ghsn.html</url>
      
        <content type="html"><![CDATA[<p><img src="https://s1.ax1x.com/2020/05/04/Y9jx4e.jpg" alt="单片机"></p><a id="more"></a><p> <strong>刚开始学单片机，是个单片机小白，如果有哪里不对的请大家多多指教谢谢！</strong></p><h2 id="爆闪灯："><a href="#爆闪灯：" class="headerlink" title="爆闪灯："></a><strong>爆闪灯：</strong></h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">  ORG <span class="number">0000</span>H</span><br><span class="line">  AJMP MAIN</span><br><span class="line">  ORG <span class="number">000</span>BH</span><br><span class="line">  AJMP TIMER0</span><br><span class="line"><span class="symbol">MAIN</span>:</span><br><span class="line">  CLR <span class="built_in">F0</span>   //设置状态标志</span><br><span class="line">  <span class="keyword">MOV </span><span class="number">30</span>H,<span class="number">#5</span>H  //每个状态次</span><br><span class="line">  <span class="keyword">MOV </span>TH0,<span class="number">#3</span>CH   //初始化中断定时器设置<span class="number">50</span>ms</span><br><span class="line">  <span class="keyword">MOV </span>TL0,<span class="number">#0B0</span>H</span><br><span class="line">  <span class="keyword">MOV </span>IE,<span class="number">#82</span>H</span><br><span class="line">  SETB TR0</span><br><span class="line">  SJMP $</span><br><span class="line"><span class="symbol">  TIMER0:</span></span><br><span class="line">  <span class="keyword">MOV </span>TH0,<span class="number">#3</span>CH</span><br><span class="line">  <span class="keyword">MOV </span>TL0,<span class="number">#0B0</span>H</span><br><span class="line">  DJNZ <span class="number">30</span>H,T001   //判断循环次数</span><br><span class="line">  CPL <span class="built_in">F0</span>        </span><br><span class="line">  <span class="keyword">MOV </span><span class="number">30</span>H,<span class="number">#5</span>H</span><br><span class="line"><span class="symbol">T001</span>:</span><br><span class="line">  JB <span class="built_in">F0</span>,T002  //判断状态</span><br><span class="line">  CPL <span class="built_in">P1</span>.<span class="number">0</span></span><br><span class="line">  CLR <span class="built_in">P1</span>.<span class="number">1</span></span><br><span class="line">  CPL <span class="built_in">P1</span>.<span class="number">2</span></span><br><span class="line">  CLR <span class="built_in">P1</span>.<span class="number">3</span></span><br><span class="line">  SJMP T0_EX</span><br><span class="line"><span class="symbol">T002</span>: CLR <span class="built_in">P1</span>.<span class="number">0</span></span><br><span class="line">      CPL <span class="built_in">P1</span>.<span class="number">1</span></span><br><span class="line">          CLR <span class="built_in">P1</span>.<span class="number">2</span></span><br><span class="line">          CPL <span class="built_in">P1</span>.<span class="number">3</span></span><br><span class="line"><span class="symbol">T0_EX</span>: RETI</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/05/04/YC8g7q.gif" alt=" 爆闪灯"></p><br><h2 id="流水灯"><a href="#流水灯" class="headerlink" title="流水灯"></a><strong>流水灯</strong></h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">    ORG <span class="number">000</span>H</span><br><span class="line">    <span class="keyword">MOV </span><span class="built_in">R0</span>,<span class="number">#0</span>AH   </span><br><span class="line">    <span class="keyword">MOV </span>A,<span class="number">#0</span>FEH </span><br><span class="line">    <span class="keyword">MOV </span><span class="built_in">P1</span>,A</span><br><span class="line">    AJMP MAIN</span><br><span class="line">    ORG <span class="number">000</span>BH</span><br><span class="line">    AJMP TIMERO</span><br><span class="line"><span class="symbol">MAIN</span>: </span><br><span class="line">    <span class="keyword">MOV </span>TMOD,<span class="number">#10</span>H</span><br><span class="line">    <span class="keyword">MOV </span>TL0,<span class="number">#0B0</span>H</span><br><span class="line">    <span class="keyword">MOV </span>TH0,<span class="number">#3</span>CH</span><br><span class="line"><span class="keyword">MOV </span><span class="built_in">R0</span>,<span class="number">#0</span>AH   </span><br><span class="line">    <span class="keyword">MOV </span>IE,<span class="number">#82</span>H</span><br><span class="line">    SETB TR0</span><br><span class="line">    SJMP $</span><br><span class="line"><span class="symbol">TIMERO</span>: </span><br><span class="line">    <span class="keyword">MOV </span>TL0,<span class="number">#0B0</span>H</span><br><span class="line">    <span class="keyword">MOV </span>TH0,<span class="number">#3</span>CH</span><br><span class="line">    DJNZ <span class="built_in">R0</span>,T0_EX</span><br><span class="line">    RL A</span><br><span class="line">    <span class="keyword">MOV </span><span class="built_in">P1</span>,A</span><br><span class="line">    <span class="keyword">MOV </span><span class="built_in">R0</span>,<span class="number">#0</span>AH</span><br><span class="line"><span class="symbol"> T0_EX:</span>RETI </span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/05/04/YCgPN8.gif" alt="流水灯"></p><br><h2 id="最后放一个老师写的流水灯（我稍微改了下参数）"><a href="#最后放一个老师写的流水灯（我稍微改了下参数）" class="headerlink" title="最后放一个老师写的流水灯（我稍微改了下参数）"></a><strong>最后放一个老师写的流水灯（我稍微改了下参数）</strong></h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">  ORG <span class="number">0000</span>H</span><br><span class="line">  AJMP MAIN</span><br><span class="line">  ORG <span class="number">000</span>BH</span><br><span class="line">  AJMP TIMER0</span><br><span class="line"><span class="symbol">MAIN</span>:</span><br><span class="line">  <span class="keyword">MOV </span><span class="built_in">P1</span>,<span class="number">#0</span>FEH</span><br><span class="line">  CLR <span class="built_in">F0</span>  </span><br><span class="line">  <span class="keyword">MOV </span><span class="number">30</span>H,<span class="number">#10</span>H  //这里的原值是<span class="number">10</span>H</span><br><span class="line">  <span class="keyword">MOV </span><span class="number">31</span>H,<span class="number">#0</span>FDH  //这里的原值是<span class="number">0</span>FEH</span><br><span class="line">  <span class="keyword">MOV </span><span class="number">32</span>H,<span class="number">#10</span>H </span><br><span class="line">  <span class="keyword">MOV </span>TMOD,<span class="number">#01</span>H</span><br><span class="line">  <span class="keyword">MOV </span>TH0,<span class="number">#3</span>CH</span><br><span class="line">  <span class="keyword">MOV </span>TL0,<span class="number">#0B0</span>H</span><br><span class="line">  <span class="keyword">MOV </span>IE,<span class="number">#82</span>H</span><br><span class="line">  SETB TR0</span><br><span class="line">  SJMP $</span><br><span class="line"><span class="symbol">TIMER0</span>:</span><br><span class="line">  <span class="keyword">MOV </span>TH0,<span class="number">#3</span>CH</span><br><span class="line">  <span class="keyword">MOV </span>TL0,<span class="number">#0B0</span>H</span><br><span class="line">  DJNZ <span class="number">32</span>H,T0_EX</span><br><span class="line">  <span class="keyword">MOV </span><span class="number">32</span>H,<span class="number">#10</span>H</span><br><span class="line">  DJNZ <span class="number">30</span>H,T001</span><br><span class="line">  CPL <span class="built_in">F0</span></span><br><span class="line">  <span class="keyword">MOV </span><span class="number">30</span>H,<span class="number">#15</span>  //这里的原值是<span class="number">10</span>H</span><br><span class="line"><span class="symbol">T001</span>: <span class="keyword">MOV </span>A,<span class="number">31</span>H</span><br><span class="line">  JB <span class="built_in">F0</span>,T002</span><br><span class="line">  RL A</span><br><span class="line">  SJMP T003</span><br><span class="line"><span class="symbol">T002</span>: RR A</span><br><span class="line"><span class="symbol">T003</span>: <span class="keyword">MOV </span><span class="number">31</span>H,A  </span><br><span class="line">  <span class="keyword">MOV </span><span class="built_in">P1</span>,A  </span><br><span class="line"><span class="symbol">T0_EX</span>: RETI</span><br></pre></td></tr></table></figure><ul><li><strong>这两个参数改动后便可流畅亮灯。</strong></li></ul><p><img src="https://s1.ax1x.com/2020/05/04/YCgPN8.gif" alt="流水灯"></p><br/><span class='btn regular'><a class="button" href='/' title='返回'><i class='fa fa-reply-all'></i>返回</a></span>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AT89C51 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客搭建教程</title>
      <link href="/2020/05/04/blogjcjc.html"/>
      <url>/2020/05/04/blogjcjc.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;自从上次成功搭建博客之后我就一直想写篇教程，但是由于没有时间（主要是懒）也就一直没有写。直到这次五一放假，终于有了空闲的时间。我自己觉得我这样的小白写的教程应该比较全面，毕竟把什么坑都踩了一遍。接下来开始我们的博客搭建。</p><a id="more"></a><p>搭建平台：Windos10 v1909 x64</p><p>博客框架：Hexo</p><h2 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a><strong>安装环境</strong></h2><h2 id="下载Node-js"><a href="#下载Node-js" class="headerlink" title="下载Node.js"></a><strong>下载Node.js</strong></h2><p><a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">前往官网下载Node.js</a></p><p><img src="https://s1.ax1x.com/2020/05/04/Y9MezR.png" alt="下载界面"></p><br><h2 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a><strong>安装Node.js</strong></h2><p><img src="https://s1.ax1x.com/2020/05/04/Y9MKL6.png" alt="安装界面"></p><ul><li>点击<strong>Next</strong>即可</li></ul><br><h2 id="下载Git"><a href="#下载Git" class="headerlink" title="下载Git"></a><strong>下载Git</strong></h2><p><a href="https://git-scm.com/" target="_blank" rel="noopener">前往官网下载Git</a><br><img src="https://s1.ax1x.com/2020/05/04/Y9MrFg.png" alt="下载界面"></p><br><h2 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a><strong>安装Git</strong></h2><p><img src="https://s1.ax1x.com/2020/05/04/Y9MnQ1.png" alt="安装界面"></p><ul><li>点击<strong>Next</strong>即可</li></ul><br><h2 id="部署环境"><a href="#部署环境" class="headerlink" title="部署环境"></a><strong>部署环境</strong></h2><h2 id="注册Github并创建仓库"><a href="#注册Github并创建仓库" class="headerlink" title="注册Github并创建仓库"></a><strong>注册Github并创建仓库</strong></h2><p>注册成功Github账号后需要创建一个仓库</p><p><img src="https://s1.ax1x.com/2020/05/04/Y9MNQI.png" alt="创建仓库"><br><img src="https://s1.ax1x.com/2020/05/04/Y9MtSA.png" alt="创建仓库"><br><strong>在Repository name 中输入”用户名.github.io”</strong></p><p><strong>注意用户名与注册用户名相同否则博客无法正常打开</strong></p><br><h2 id="配置SSH密钥"><a href="#配置SSH密钥" class="headerlink" title="配置SSH密钥"></a><strong>配置SSH密钥</strong></h2><ul><li><p>win+R 输入 “cmd”打开CMD        </p></li><li><p>设置 “user name”和 “email”</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"Github用户名"</span></span><br><span class="line">git config --global user.email <span class="string">"GitHub注册邮箱"</span></span><br></pre></td></tr></table></figure></li></ul><ul><li><p><strong>生成SSH密钥</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">"GitHub注册邮箱"</span></span><br></pre></td></tr></table></figure></li><li><p><strong>这里回车就行</strong>然后会在C盘用户目录下会生成一个<strong><em>.ssh</em></strong>文件夹,里面有私钥<strong><em>id_rsa</em></strong>和公钥<strong><em>id_rsa_pub</em></strong>。</p></li><li><p><strong>在Github上添加SSH密钥。具体步骤如下：</strong></p><p><img src="https://s1.ax1x.com/2020/05/04/Y9R8rn.png" alt="SSH密钥"></p><p><img src="https://s1.ax1x.com/2020/05/04/Y9R3Ks.png" alt="博客搭建"></p></li><li><p><strong>验证SSH密钥在CMD中输入:</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/05/04/YPFVkn.png" alt="博客搭建"></p></li></ul><br><h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a><strong>安装Hexo</strong></h2><ul><li><p>在D盘创建以后个Blog文件，切换到Blog目录下。</p></li><li><p>使用<strong>淘宝</strong>的npm源安装hexo</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line">cnpm install hexo-cli -g</span><br><span class="line">cnpm install hexo --save</span><br></pre></td></tr></table></figure></li><li><p><strong>初始化Hexo</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/05/04/Y94JlF.png" alt="博客搭建"></p><br><p><strong>此处若出现以下情形这需要将Blog文件夹下的文件清空再重试</strong></p><p><img src="https://s1.ax1x.com/2020/05/04/Y9M1oD.png" alt="博客搭建"></p></li><li><p><strong>安装相关插件</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-generator-index --save</span><br><span class="line">cnpm install hexo-generator-archive --save</span><br><span class="line">cnpm install hexo-generator-category --save</span><br><span class="line">cnpm install hexo-generator-tag --save</span><br><span class="line">cnpm install hexo-server --save</span><br><span class="line">cnpm install hexo-deployer-git --save</span><br><span class="line">cnpm install hexo-deployer-heroku --save</span><br><span class="line">cnpm install hexo-deployer-rsync --save</span><br><span class="line">cnpm install hexo-deployer-openshift --save</span><br><span class="line">cnpm install hexo-renderer-marked@0.2 --save</span><br><span class="line">cnpm install hexo-renderer-stylus@0.2 --save</span><br><span class="line">cnpm install hexo-generator-feed@1 --save</span><br><span class="line">cnpm install hexo-generator-sitemap@1 --save</span><br></pre></td></tr></table></figure></li><li><p><strong>启动Hexo</strong></p><p><img src="https://s1.ax1x.com/2020/05/04/Y94GSU.png" alt="博客搭建"></p><p>在浏览器打开<strong><a href="https://localhost:4000" target="_blank" rel="noopener">https://localhost:4000</a></strong>即可看到刚刚搭建的博客</p><p><img src="https://s1.ax1x.com/2020/05/04/Y9M8Fe.png" alt="博客页面"></p></li></ul><br><h2 id="部署博客到Github"><a href="#部署博客到Github" class="headerlink" title="部署博客到Github"></a>部署博客到Github</h2><ul><li><p>配置<strong>_config.yml</strong>在Blog目录下找到<strong><em>_config.yml</em></strong>文件,用文本编辑器(推荐Typora)打开编辑以下项目:</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:用户名/用户名.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></li><li><p><strong>新建一篇帖子</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">"first post"</span></span><br></pre></td></tr></table></figure><p>便会在<strong>D:\Blog\source\ _posts</strong>目录下生成<strong>first post.md</strong>的文件，可以用markdown编辑器编辑帖子。</p></li></ul><ul><li><p><strong>设置身份信息</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"GitHub用户名"</span></span><br><span class="line">git config --global user.email <span class="string">"GitHub注册邮箱"</span></span><br></pre></td></tr></table></figure></li></ul><ul><li><p><strong>部署Github</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d -g</span><br></pre></td></tr></table></figure></li><li><p>在浏览器打开:<strong>用户名.github.io</strong>即可看到刚刚编辑的博客。</p><br></li><li><p><strong>到这里Hexo博客的基础搭建已经完成，更换主题的教程会下次更新。</strong></p></li></ul><br/><span class='btn regular'><a class="button" href='/' title='返回'><i class='fa fa-reply-all'></i>返回</a></span>]]></content>
      
      
      <categories>
          
          <category> 博客搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我的第一篇博客</title>
      <link href="/2020/04/14/firstblog.html"/>
      <url>/2020/04/14/firstblog.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-为什么想搭建博客"><a href="#1-为什么想搭建博客" class="headerlink" title="1.为什么想搭建博客"></a><strong>1.为什么想搭建博客</strong></h2><p>&emsp;&emsp;最初是在油管上学习如何建立V2ray服务器，找到了一个用博客伪装V2ray服务器的教程视频。在认真学习了视频的内容后，我便兴匆匆的去租了一个美国VPS的服务器。在经过一系列的操作后，V2ray服务器成功搭建。然而这个服务器根本不能用，太慢了，延迟上天，果然便宜没好货，跟隔着太平洋买了个垃圾差不多（穷是原罪T_T)。于是我对V2ray服务器的兴趣被磨得一干二净，却对博客起了兴趣。</p><a id="more"></a><h2 id="2-第一次"><a href="#2-第一次" class="headerlink" title="2.第一次"></a><strong>2.第一次</strong></h2><p>&emsp;&emsp;于有之前购买垃圾服务器的经历，我便不打算购买服务  器搭建博客，而是使用了GitHub。我先是在油管上找了很多有关搭建博客的视频，在对这些视频认真学习之后。我开始了博客搭建。鉴于教程视频中是在Mc环境下进行搭建的，于是我打算在电脑上安装Linux虚拟机，并使用Hugo来搭建。在下载安装了Git和Hugo之后终于#hugo server，在本地成功建立博客。似乎快要成功了，然 而在部署到GitHub的时候出现了问题。不知道是什么原因虚拟机下的Deepin无法连接到GitHub，在上网查询很久依然无法解决，毕竟像我这样在虚拟机里搭建博客的是少数。这第一次搭建博客算是失败了。</p><h2 id="3-第二次"><a href="#3-第二次" class="headerlink" title="3.第二次"></a><strong>3.第二次</strong></h2><p>&emsp;&emsp;这次我推翻了上次用虚拟机搭建的方式，因为有人给我推荐了阿里云的试用服务器。这次我打算直接将博客搭建在阿里云服务器里。我先是在<a href="https://my.freenom.com/" target="_blank" rel="noopener">Freenom</a>申请了一个免费域名。然后注册了阿里云的账号并完成实名认证获得了一台服务器。然后我安装了Finalshell成功连接上服务器，并在服务器里安装了宝塔面板。域名解析好后，将域名与网站绑定。但当我打开那个网址时显示网址需要备案。于是我便去备案，结果有我申请的是.tk(不要钱)的域名,不支持备案我晕(((φ(◎ロ◎;)φ)))，所以贫穷是原罪。自然这次也失败了。</p><h2 id="4-第三次"><a href="#4-第三次" class="headerlink" title="4.第三次"></a><strong>4.第三次</strong></h2><p>&emsp;&emsp;在吸取前两次失败的教训，我决定推倒重来。将Linux换成Windos，把Hugo换成Hexo，继续使用Github。这次有了前两次的经验，在看了晚上的教程后还是比较顺利的。然而在生成SSH密钥时出现了问题，密钥无法生成。于是我又上油管上搜索如何在Git上生成SSH密钥的视频，这次我按照视频中的方法成功生成了密钥，并成功连接上了Github。然而在部署到GitHub上时，遇到了问题，一直显示_config文件中deployer的设置不正确。于是我上网查找了很多关于这个问题的解决方法，试了不知多少次依然无法部署。于是我决定，重新生成一个博客，原模原样试了一遍，依然不行。功夫不负有心人，就在我在GitHub的仓库里乱翻的时候，发现了在仓库里也需要上传SSH公钥。于是我抱着试一试的心态往里面上传了SSH公钥，并重新部署了一次，居然成功了。我太激动了，声音都颤抖了q(≧▽≦q)！！！<br>第三次搭建博客成功ψ(｀∇´)ψ！！！<br>&emsp;&emsp;之后我写下了这篇博客，用来纪念这次搭建博客的经历。</p><br><p><img src="https://s1.ax1x.com/2020/05/04/Y9cSUS.jpg" alt="博客搭建"></p><br><h2 id="5-小结"><a href="#5-小结" class="headerlink" title="5.小结"></a><strong>5.小结</strong></h2><p>&emsp;&emsp;这第一篇博客耗时四天，踩了无数的坑，当然也收获了很多,感觉自己能有一个能与别人分享自己想法的博客特别的开心O(∩_∩)O。虽然有点累,但是生命在于折腾!第一次写博客，内容比较简陋，望谅解。当然以后会进步的q(≧▽≦q)！</p><br><p>   以下是这次搭建博客所用到的教程资料和视频：<br>   <a href="https://www.jianshu.com/p/f3e1662ca34f" target="_blank" rel="noopener">Hexo&amp;Github Blog 搭建</a><br>   <a href="https://blog.csdn.net/weixin_43571920/article/details/104413636" target="_blank" rel="noopener">FATAL E:\blog not empty, please run <code>hexo init</code> on an empty folder and then copy your files into it解决方法</a><br>   <a href="https://www.jianshu.com/p/ef3f221a0374" target="_blank" rel="noopener">Win10+Hexo+GitHub搭建个人博客详解</a><br>   <a href="https://www.jianshu.com/p/390f202c5b0e" target="_blank" rel="noopener">5分钟搞定个人博客-hexo</a><br>   <a href="https://blog.csdn.net/renlzrz/article/details/83545521" target="_blank" rel="noopener">md 文件的编辑</a><br>   <a href="https://www.youtube.com/watch?v=yVgyAHBIyOQ" target="_blank" rel="noopener">如何用SSH密钥连接到Git仓库和远程服务器</a><br>   <a href="https://www.youtube.com/watch?v=J7XQ2FeTHLg&t=1163s" target="_blank" rel="noopener">手把手教你从0开始搭建自己的个人博客 |第二种姿势 | hugo</a><br><a href="https://www.youtube.com/watch?v=erKYtw4Rfhk&t=788s" target="_blank" rel="noopener">手把手教你从0开始搭建自己的个人博客 |无坑版视频教程| hexo</a><br><a href="https://www.youtube.com/watch?v=tk22q_jtYPg&t=407s" target="_blank" rel="noopener">波仔分享</a><br>… …</p><p>十分感谢他们的分享！   </p><br/> <span class='btn regular'><a class="button" href='/' title='返回'><i class='fa fa-reply-all'></i>返回</a></span>]]></content>
      
      
      <categories>
          
          <category> 博客搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
